<!doctype html><html lang="ja"><head><script>window.matchMedia("(prefers-color-scheme: dark)").matches&&document.documentElement.classList.add("dark"),document.referrer.indexOf(window.location.hostname)<0&&"/"===window.location.pathname&&-1<(navigator.language||navigator.userLanguage).indexOf("ja")&&(window.location.href="/ja")</script><meta charset="utf-8"><meta http-equiv="x-ua-compatible" content="ie=edge"><title>Git コミットの日時を変更する | Hitomilog</title><meta name="description" content="Hitomi Seki&#39;s blog"><meta name="viewport" content="width=device-width,initial-scale=1"><link rel="alternate" type="application/rss+xml" href="https://blog.hitomiseki.com/ja/feed.xml"><link href="https://fonts.googleapis.com/css2?family=Noto+Sans+JP:wght@400;700&display=swap" rel="stylesheet"><link rel="stylesheet" href="/assets/css/main.min.css"><link rel="stylesheet" href="/assets/css/solarized.min.css"></head><body><header><h1>Git コミットの日時を変更する</h1><p><time datetime="2021-01-10">2021年1月10日</time>更新</p><p>タグ： <a href="/ja/tags/git/">Git</a></p></header><hr><main><article><p>注意：この記事は Git の履歴を変更する方法を含んでいます。各自の責任で慎重に行うようにしてください。</p><h2>Git のコミットデータには2種類の日時情報がある</h2><p>下記は、最後のコミットの日時を日本時間で2020年10月31日午前9時に変更するコマンドです。</p><pre><code>git commit --amend --no-edit --date=&quot;2020-10-31T00:00+09:00&quot;
</code></pre><p><code>git log</code> で確認すると確かに上記で変更した日時になっているのですが、この変更したコミットを GitHub にプッシュしたところ、 GitHub 上では修正前の日時が表示されており、ローカルで表示される日時と噛み合わない状態でした。</p><p>調べてみると、 Git のコミット情報には author date と commit date という、2種類の日時データが記録されているらしく、上記のコマンドでは author date のみが変更されたということのようでした。</p><p>下記のコマンドを実行して author date と commit date を一致させ、プッシュし直しました。</p><pre><code>git filter-branch --env-filter 'export GIT_COMMITTER_DATE=&quot;$GIT_AUTHOR_DATE&quot;'
git push -f
</code></pre><h2>正しいコマンド</h2><p>片方の日時だけを変更したいケースもあまり無いと思うので、初めから下記のコマンドを使えば、両方の日時データが更新されるようです。</p><pre><code>GIT_COMMITTER_DATE=&quot;2020-10-31T00:00+09:00&quot; git commit --amend --no-edit --date &quot;2020-10-31T00:00+09:00&quot;
</code></pre><h2>参考リンク</h2><ul><li><a href="https://github.community/t/commit-timestamps-in-github-dont-match-repo/127766">Commit timestamps in GitHub don’t match repo (GitHub Support Community)</a></li><li><a href="https://hackernoon.com/change-the-date-of-a-git-commit-eeed8d2c5b9b">Change the date of a git commit (Hacker Noon)</a></li></ul></article><hr><section><h1>コメント</h1><div id="disqus_thread"></div><script>var disqus_config=function(){this.language="ja"};!function(){var t=document,e=t.createElement("script");e.src="https://hitomilog.disqus.com/embed.js",e.setAttribute("data-timestamp",+new Date),(t.head||t.body).appendChild(e)}()</script><noscript>Please enable JavaScript to view the <a href="https://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript><script id="dsq-count-scr" src="//hitomilog.disqus.com/count.js" async></script></section></main><hr><footer><p><a href="/ja/">トップページへ</a></p><p>Built with <a href="https://www.11ty.dev/">Eleventy</a>, coloured with <a href="https://ethanschoonover.com/solarized/">Solarized</a> palette.</p><p>&copy; 2020 <a href="https://hitomiseki.com">Hitomi Seki</a></p></footer><script src="/assets/js/anchors.min.js" defer="defer"></script><script src="/assets/js/toc.min.js" defer="defer"></script><script async src="https://www.googletagmanager.com/gtag/js?id=UA-16106862-4"></script><script>function gtag(){dataLayer.push(arguments)}window.dataLayer=window.dataLayer||[],gtag("js",new Date),gtag("config","UA-16106862-4")</script><script type="application/ld+json">{
  "@context": "https://schema.org",
  "@type": "BlogPosting",
  "mainEntityOfPage": {
    "@type": "WebPage",
    "@id": "https://blog.hitomiseki.com/ja/changing-git-commit-date/"
  },
  "headline": "Git コミットの日時を変更する",
  "author": {
    "@type": "Person",
    "name": "Hitomi Seki"
  },
  "datePublished": "Sun Jan 10 2021 09:00:00 GMT+0900 (Japan Standard Time)",
  "dateModified": "Sun Jan 10 2021 09:00:00 GMT+0900 (Japan Standard Time)"
}</script></body></html>
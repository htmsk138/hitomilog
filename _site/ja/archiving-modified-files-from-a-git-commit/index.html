<!doctype html><html lang="ja"><head><script>window.matchMedia("(prefers-color-scheme: dark)").matches&&document.documentElement.classList.add("dark"),document.referrer.indexOf(window.location.hostname)<0&&"/"===window.location.pathname&&-1<(navigator.language||navigator.userLanguage).indexOf("ja")&&(window.location.href="/ja")</script><meta charset="utf-8"><meta http-equiv="x-ua-compatible" content="ie=edge"><title>Git のコミットで変更されたファイルのみのアーカイブファイルを作成する | Hitomilog</title><meta name="description" content="Hitomi Seki&#39;s blog"><meta name="viewport" content="width=device-width,initial-scale=1"><link rel="alternate" type="application/rss+xml" href="https://blog.hitomiseki.com/ja/feed.xml"><link href="https://fonts.googleapis.com/css2?family=Noto+Sans+JP:wght@400;700&display=swap" rel="stylesheet"><link rel="stylesheet" href="/assets/css/main.min.css"><link rel="stylesheet" href="/assets/css/solarized.min.css"></head><body><header><h1>Git のコミットで変更されたファイルのみのアーカイブファイルを作成する</h1><p><time datetime="2021-01-10">2021年1月10日</time>更新</p><p>タグ： <a href="/ja/tags/git/">Git</a></p></header><hr><main><article><p>Git でコミットした内容から、そのコミットで更新・追加されたファイルのみをまとめてZIPなどのアーカイブにする方法です。</p><p>以下の例はすべて、1つ前に行なったコミットを対象にしたコマンドですが、 <code>HEAD^</code> の部分を2つのコミットIDに変更し、そのコミット間の差分から抽出することもできます。</p><h2>Git 経由</h2><pre><code>git archive --format=zip HEAD `git diff --name-only HEAD^` &gt; archive.zip
</code></pre><h2>Zip 経由</h2><pre><code>zip archive.zip $(git diff --name-only HEAD^)
</code></pre><h2>Tar 経由</h2><pre><code>tar -czvf archive.tgz $(git diff --name-only HEAD^)
</code></pre></article><hr><section><h1>コメント</h1><div id="disqus_thread"></div><script>var disqus_config=function(){this.language="ja"};!function(){var t=document,e=t.createElement("script");e.src="https://hitomilog.disqus.com/embed.js",e.setAttribute("data-timestamp",+new Date),(t.head||t.body).appendChild(e)}()</script><noscript>Please enable JavaScript to view the <a href="https://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript><script id="dsq-count-scr" src="//hitomilog.disqus.com/count.js" async></script></section></main><hr><footer><p><a href="/ja/">トップページへ</a></p><p>Built with <a href="https://www.11ty.dev/">Eleventy</a>, coloured with <a href="https://ethanschoonover.com/solarized/">Solarized</a> palette.</p><p>&copy; 2020 <a href="https://hitomiseki.com">Hitomi Seki</a></p></footer><script src="/assets/js/anchors.min.js" defer="defer"></script><script src="/assets/js/toc.min.js" defer="defer"></script><script async src="https://www.googletagmanager.com/gtag/js?id=UA-16106862-4"></script><script>function gtag(){dataLayer.push(arguments)}window.dataLayer=window.dataLayer||[],gtag("js",new Date),gtag("config","UA-16106862-4")</script><script type="application/ld+json">{
  "@context": "https://schema.org",
  "@type": "BlogPosting",
  "mainEntityOfPage": {
    "@type": "WebPage",
    "@id": "https://blog.hitomiseki.com/ja/archiving-modified-files-from-a-git-commit/"
  },
  "headline": "Git のコミットで変更されたファイルのみのアーカイブファイルを作成する",
  "author": {
    "@type": "Person",
    "name": "Hitomi Seki"
  },
  "datePublished": "Sun Jan 10 2021 09:00:00 GMT+0900 (Japan Standard Time)",
  "dateModified": "Sun Jan 10 2021 09:00:00 GMT+0900 (Japan Standard Time)"
}</script></body></html>